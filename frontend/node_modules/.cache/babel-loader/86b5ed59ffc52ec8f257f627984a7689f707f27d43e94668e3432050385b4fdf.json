{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/szymo/Desktop/gole baby i milfy/studia/scrum/test17kwietnia/ScrumTable-visi-DziarskiQuartet/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/szymo/Desktop/gole baby i milfy/studia/scrum/test17kwietnia/ScrumTable-visi-DziarskiQuartet/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.timers.js\";\nimport axios from 'axios';\nexport default {\n  data: function data() {\n    return {\n      showMobileMenu: false,\n      cart: {\n        items: []\n      },\n      refreshPage: function refreshPage() {\n        window.location.reload();\n      },\n      user: null // Dodaj pole user do danych komponentu\n    };\n  },\n  beforeCreate: function beforeCreate() {\n    this.$store.commit('initializeStore');\n    var token = this.$store.state.token;\n    if (token) {\n      axios.defaults.headers.common['Authorization'] = \"Token \" + token;\n    } else {\n      axios.defaults.headers.common['Authorization'] = \"\";\n    }\n  },\n  mounted: function mounted() {\n    this.cart = this.$store.state.cart;\n    this.fetchUserData(); // Wywołaj metodę fetchUserData po zamontowaniu komponentu\n  },\n  methods: {\n    logout: function logout() {\n      localStorage.removeItem('token');\n      this.$router.push('/');\n      setTimeout(function () {\n        window.location.reload(); // Odśwież /log-in\n      }, 2);\n    },\n    fetchUserData: function fetchUserData() {\n      var _this = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.get('http://127.0.0.1:8000/user/profile/');\n            case 3:\n              response = _context.sent;\n              _this.user = response.data;\n              _context.next = 10;\n              break;\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.error('Błąd podczas pobierania danych użytkownika:', _context.t0);\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 7]]);\n      }))();\n    }\n  },\n  computed: {\n    cartTotalLength: function cartTotalLength() {\n      var totalLength = 0;\n      for (var i = 0; i < this.cart.items.length; i++) {\n        totalLength += this.cart.items[i].quantity;\n      }\n      return totalLength;\n    }\n  }\n};","map":{"version":3,"names":["axios","data","showMobileMenu","cart","items","refreshPage","window","location","reload","user","beforeCreate","$store","commit","token","state","defaults","headers","common","mounted","fetchUserData","methods","logout","localStorage","removeItem","$router","push","setTimeout","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","sent","t0","console","error","stop","computed","cartTotalLength","totalLength","i","length","quantity"],"sources":["C:\\Users\\szymo\\Desktop\\gole baby i milfy\\studia\\scrum\\test17kwietnia\\ScrumTable-visi-DziarskiQuartet\\frontend\\src\\App.vue"],"sourcesContent":["<template>\r\n  <div id=\"app\">\r\n    <nav class=\"navbar is-dark\">\r\n      <div class=\"navbar-brand\">\r\n        <router-link to=\"/\" class=\"navbar-item\" ><strong>Dziarski scrum</strong></router-link>\r\n      </div>\r\n\r\n       <div class=\"navbar-end\">\r\n          <div class=\"navbar-item\">\r\n            <div class=\"buttons\">\r\n              <template v-if=\"$store.state.isAuthenticated\">\r\n                <span v-if=\"user\">{{ user.first_name }} {{ user.last_name }}</span>\r\n                <router-link to=\"/user-main\" class=\"button-app is-light\">Panel użytkownika</router-link>\r\n                <button @click=\"logout\" class=\"button-app is-light\">Wyloguj</button>\r\n              </template>\r\n\r\n              <template v-else>\r\n                <router-link to=\"/log-in\" class=\"button-app is-light login-button\"><i class=\"fas fa-sign-in-alt\" style=\"color: black;\"></i>Zaloguj</router-link>\r\n              <router-link to=\"/sign-up\" class=\"button-app is-light signup-button\"><i class=\"fas fa-user-plus\" style=\"color: black;\"></i> Zarejestruj</router-link>\r\n              </template>\r\n          </div>\r\n          </div>\r\n        </div> \r\n    </nav>\r\n\r\n    <section class=\"section\">\r\n      <router-view/>\r\n    </section>\r\n\r\n    <footer class=\"footer\">\r\n      <p class=\"has-text-centered\">Visimind</p>\r\n    </footer>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      showMobileMenu: false,\r\n      cart: {\r\n        items: []\r\n      },\r\n      refreshPage() {\r\n        window.location.reload();\r\n    },\r\n      user: null // Dodaj pole user do danych komponentu\r\n    }\r\n  },\r\n  beforeCreate() {\r\n    this.$store.commit('initializeStore')\r\n\r\n    const token = this.$store.state.token\r\n\r\n    if (token) {\r\n        axios.defaults.headers.common['Authorization'] = \"Token \" + token\r\n    } else {\r\n        axios.defaults.headers.common['Authorization'] = \"\"\r\n    }\r\n  },\r\n  mounted() {\r\n    this.cart = this.$store.state.cart\r\n    this.fetchUserData(); // Wywołaj metodę fetchUserData po zamontowaniu komponentu\r\n  },\r\n  methods: {\r\n    logout() {\r\n      localStorage.removeItem('token');\r\n      this.$router.push('/');\r\n      setTimeout(() => {\r\n        window.location.reload(); // Odśwież /log-in\r\n      }, 2);\r\n    },\r\n    async fetchUserData() {\r\n      try {\r\n        const response = await axios.get('http://127.0.0.1:8000/user/profile/');\r\n        this.user = response.data;\r\n      } catch (error) {\r\n        console.error('Błąd podczas pobierania danych użytkownika:', error);\r\n      }\r\n    }\r\n  },\r\n  \r\n  computed: {\r\n      cartTotalLength() {\r\n          let totalLength = 0\r\n\r\n          for (let i = 0; i < this.cart.items.length; i++) {\r\n              totalLength += this.cart.items[i].quantity\r\n          }\r\n\r\n          return totalLength\r\n      }\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style lang=\"scss\">\r\n@import '../node_modules/bulma';\r\n\r\n.lds-dual-ring {\r\n  display: inline-block;\r\n  width: 80px;\r\n  height: 80px;\r\n}\r\n.lds-dual-ring:after {\r\n  content: \" \";\r\n  display: block;\r\n  width: 64px;\r\n  height: 64px;\r\n  margin: 8px;\r\n  border-radius: 50%;\r\n  border: 6px solid #ccc;\r\n  border-color: #ccc transparent #ccc transparent;\r\n  animation: lds-dual-ring 1.2s linear infinite;\r\n}\r\n@keyframes lds-dual-ring {\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n.is-loading-bar {\r\n  height: 0;\r\n  overflow: hidden;\r\n\r\n  -webkit-transition: all 0.3s;\r\n  transition: all 0.3s;\r\n\r\n  &.is-loading {\r\n    height: 80px;\r\n  }\r\n}\r\n\r\n.button-app {\r\n  margin-left: 10px; /* Odstęp między przyciskami */\r\n  padding: 10px 20px;\r\n  font-size: 1em;\r\n  text-decoration: none;\r\n  color: black;\r\n  background-color: white;\r\n  border: 1px solid white; /* Dodanie białej ramki */\r\n  border-radius: 5px;\r\n}\r\n\r\n.button-app i {\r\n  margin-right: 5px;\r\n}\r\n\r\n.login-button,\r\n.signup-button {\r\n  font-family: inherit; /* Ustawienie dziedziczenia czcionki */\r\n}\r\n</style>"],"mappings":";;;;AAqCA,OAAOA,KAAI,MAAO,OAAM;AAExB,eAAe;EACbC,IAAI,WAAAA,KAAA,EAAG;IACL,OAAO;MACLC,cAAc,EAAE,KAAK;MACrBC,IAAI,EAAE;QACJC,KAAK,EAAE;MACT,CAAC;MACDC,WAAW,WAAAA,YAAA,EAAG;QACZC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC;MAC5B,CAAC;MACCC,IAAI,EAAE,IAAG,CAAE;IACb;EACF,CAAC;EACDC,YAAY,WAAAA,aAAA,EAAG;IACb,IAAI,CAACC,MAAM,CAACC,MAAM,CAAC,iBAAiB;IAEpC,IAAMC,KAAI,GAAI,IAAI,CAACF,MAAM,CAACG,KAAK,CAACD,KAAI;IAEpC,IAAIA,KAAK,EAAE;MACPb,KAAK,CAACe,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,IAAI,QAAO,GAAIJ,KAAI;IACpE,OAAO;MACHb,KAAK,CAACe,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,IAAI,EAAC;IACtD;EACF,CAAC;EACDC,OAAO,WAAAA,QAAA,EAAG;IACR,IAAI,CAACf,IAAG,GAAI,IAAI,CAACQ,MAAM,CAACG,KAAK,CAACX,IAAG;IACjC,IAAI,CAACgB,aAAa,CAAC,CAAC,EAAE;EACxB,CAAC;EACDC,OAAO,EAAE;IACPC,MAAM,WAAAA,OAAA,EAAG;MACPC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;MAChC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;MACtBC,UAAU,CAAC,YAAM;QACfpB,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,EAAE;MAC5B,CAAC,EAAE,CAAC,CAAC;IACP,CAAC;IACKW,aAAa,WAAAA,cAAA,EAAG;MAAA,IAAAQ,KAAA;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,QAAA;QAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAEKrC,KAAK,CAACsC,GAAG,CAAC,qCAAqC,CAAC;YAAA;cAAjEN,QAAO,GAAAG,QAAA,CAAAI,IAAA;cACbZ,KAAI,CAAClB,IAAG,GAAIuB,QAAQ,CAAC/B,IAAI;cAAAkC,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAK,EAAA,GAAAL,QAAA;cAEzBM,OAAO,CAACC,KAAK,CAAC,6CAA6C,EAAAP,QAAA,CAAAK,EAAO,CAAC;YAAA;YAAA;cAAA,OAAAL,QAAA,CAAAQ,IAAA;UAAA;QAAA,GAAAZ,OAAA;MAAA;IAEvE;EACF,CAAC;EAEDa,QAAQ,EAAE;IACNC,eAAe,WAAAA,gBAAA,EAAG;MACd,IAAIC,WAAU,GAAI;MAElB,KAAK,IAAIC,CAAA,GAAI,CAAC,EAAEA,CAAA,GAAI,IAAI,CAAC5C,IAAI,CAACC,KAAK,CAAC4C,MAAM,EAAED,CAAC,EAAE,EAAE;QAC7CD,WAAU,IAAK,IAAI,CAAC3C,IAAI,CAACC,KAAK,CAAC2C,CAAC,CAAC,CAACE,QAAO;MAC7C;MAEA,OAAOH,WAAU;IACrB;EACJ;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}