{"ast":null,"code":"import \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, normalizeClass as _normalizeClass } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"page-board\"\n};\nvar _hoisted_2 = {\n  \"class\": \"columns is-multiline\"\n};\nvar _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"column is-12\"\n}, [/*#__PURE__*/_createElementVNode(\"h1\", {\n  \"class\": \"title\"\n}, \"Boards\")], -1 /* HOISTED */);\nvar _hoisted_4 = {\n  \"class\": \"column is-12 box\"\n};\nvar _hoisted_5 = {\n  key: 0,\n  \"class\": \"table is-fullwidth\"\n};\nvar _hoisted_6 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"Name\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Description\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Create Date\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Due Date\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Actions\")])], -1 /* HOISTED */);\nvar _hoisted_7 = [\"onClick\"];\nvar _hoisted_8 = [\"onClick\"];\nvar _hoisted_9 = [\"onClick\"];\nvar _hoisted_10 = [\"onClick\"];\nvar _hoisted_11 = /*#__PURE__*/_createElementVNode(\"i\", {\n  \"class\": \"fas fa-users\"\n}, null, -1 /* HOISTED */);\nvar _hoisted_12 = {\n  key: 1\n};\nvar _hoisted_13 = {\n  key: 0,\n  \"class\": \"modal-user\"\n};\nvar _hoisted_14 = {\n  \"class\": \"modal-content-edit\"\n};\nvar _hoisted_15 = /*#__PURE__*/_createElementVNode(\"h2\", {\n  style: {\n    \"margin-bottom\": \"15px\",\n    \"font-weight\": \"bold\",\n    \"font-size\": \"30px\"\n  }\n}, \"Edit Board\", -1 /* HOISTED */);\nvar _hoisted_16 = {\n  \"class\": \"form-group\",\n  style: {\n    \"margin-bottom\": \"15px\",\n    \"font-weight\": \"bold\",\n    \"font-size\": \"15px\"\n  }\n};\nvar _hoisted_17 = /*#__PURE__*/_createElementVNode(\"label\", {\n  \"for\": \"editBoardName\",\n  style: {\n    \"margin-right\": \"15px\"\n  }\n}, \"Board Name:\", -1 /* HOISTED */);\nvar _hoisted_18 = {\n  \"class\": \"form-group\",\n  style: {\n    \"margin-bottom\": \"15px\",\n    \"font-weight\": \"bold\",\n    \"font-size\": \"15px\"\n  }\n};\nvar _hoisted_19 = /*#__PURE__*/_createElementVNode(\"label\", {\n  \"for\": \"editBoardDescription\",\n  style: {\n    \"margin-right\": \"15px\"\n  }\n}, \"Description:\", -1 /* HOISTED */);\nvar _hoisted_20 = {\n  \"class\": \"form-group\",\n  style: {\n    \"margin-bottom\": \"15px\",\n    \"font-weight\": \"bold\",\n    \"font-size\": \"15px\"\n  }\n};\nvar _hoisted_21 = /*#__PURE__*/_createElementVNode(\"label\", {\n  \"for\": \"editBoardDueDate\",\n  style: {\n    \"margin-right\": \"15px\"\n  }\n}, \"Due Date:\", -1 /* HOISTED */);\nvar _hoisted_22 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  \"class\": \"button is-primary\"\n}, \"Update Board\", -1 /* HOISTED */);\nvar _hoisted_23 = {\n  \"class\": \"modal-card\"\n};\nvar _hoisted_24 = {\n  \"class\": \"modal-card-head\"\n};\nvar _hoisted_25 = /*#__PURE__*/_createElementVNode(\"p\", {\n  \"class\": \"modal-card-title\"\n}, \"User List\", -1 /* HOISTED */);\nvar _hoisted_26 = {\n  \"class\": \"modal-card-body\"\n};\nvar _hoisted_27 = [\"onClick\"];\nvar _hoisted_28 = {\n  \"class\": \"modal-card-foot\"\n};\nvar _hoisted_29 = {\n  \"class\": \"modal-content\"\n};\nvar _hoisted_30 = {\n  \"class\": \"box\"\n};\nvar _hoisted_31 = /*#__PURE__*/_createElementVNode(\"h2\", {\n  \"class\": \"subtitle\"\n}, \"Add User to Board\", -1 /* HOISTED */);\nvar _hoisted_32 = {\n  \"class\": \"field\"\n};\nvar _hoisted_33 = /*#__PURE__*/_createElementVNode(\"label\", {\n  \"class\": \"label\"\n}, \"User ID\", -1 /* HOISTED */);\nvar _hoisted_34 = {\n  \"class\": \"control\"\n};\nvar _hoisted_35 = {\n  \"class\": \"field\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [$options.boardTotalLength ? (_openBlock(), _createElementBlock(\"table\", _hoisted_5, [_hoisted_6, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.boards, function (board) {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: board.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(board.name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(board.description), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(board.create_date), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(board.due_date), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      onClick: function onClick($event) {\n        return $options.deleteBoard(board.id);\n      },\n      \"class\": \"button is-danger is-margin-right\"\n    }, \"Delete\", 8 /* PROPS */, _hoisted_7), _createElementVNode(\"button\", {\n      onClick: function onClick($event) {\n        return $options.openEditBoardModal(board);\n      },\n      \"class\": \"button is-info is-margin-right\"\n    }, \"Edit\", 8 /* PROPS */, _hoisted_8), _createElementVNode(\"button\", {\n      onClick: function onClick($event) {\n        return $options.openBoard(board.id);\n      },\n      \"class\": \"button is-primary is-margin-right\"\n    }, \"Open\", 8 /* PROPS */, _hoisted_9), _createElementVNode(\"span\", {\n      onClick: function onClick($event) {\n        return $options.openUserModal(board.id);\n      },\n      style: {\n        \"cursor\": \"pointer\"\n      }\n    }, [_hoisted_11, _createTextVNode(\" \" + _toDisplayString($options.getBoardUserCount(board.id)), 1 /* TEXT */)], 8 /* PROPS */, _hoisted_10)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])) : (_openBlock(), _createElementBlock(\"p\", _hoisted_12, \"You don't have any boards...\"))])]), _createCommentVNode(\" Modal do edycji tablicy \"), $data.editBoardModalVisible ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"span\", {\n    \"class\": \"close-edits\",\n    onClick: _cache[0] || (_cache[0] = function () {\n      return $options.closeEditBoardModal && $options.closeEditBoardModal.apply($options, arguments);\n    })\n  }, \"×\"), _hoisted_15, _createElementVNode(\"form\", {\n    onSubmit: _cache[4] || (_cache[4] = _withModifiers(function () {\n      return $options.updateBoard && $options.updateBoard.apply($options, arguments);\n    }, [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_16, [_hoisted_17, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"editBoardName\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n      return $data.editedBoardName = $event;\n    }),\n    \"class\": \"form-control\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.editedBoardName]])]), _createElementVNode(\"div\", _hoisted_18, [_hoisted_19, _withDirectives(_createElementVNode(\"textarea\", {\n    type: \"description\",\n    id: \"editBoardDescription\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n      return $data.editedBoardDescription = $event;\n    }),\n    \"class\": \"form-control textarea-description\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.editedBoardDescription]])]), _createElementVNode(\"div\", _hoisted_20, [_hoisted_21, _withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    id: \"editBoardDueDate\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = function ($event) {\n      return $data.editedBoardDueDate = $event;\n    }),\n    \"class\": \"form-control\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.editedBoardDueDate]])]), _hoisted_22], 32 /* NEED_HYDRATION */)])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Modal for User List \"), _createElementVNode(\"div\", {\n    \"class\": _normalizeClass([\"modal\", {\n      'is-active': $data.userModalActive\n    }])\n  }, [_createElementVNode(\"div\", {\n    \"class\": \"modal-background\",\n    onClick: _cache[5] || (_cache[5] = function () {\n      return $options.closeUserModal && $options.closeUserModal.apply($options, arguments);\n    })\n  }), _createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"header\", _hoisted_24, [_hoisted_25, _createElementVNode(\"button\", {\n    \"class\": \"delete\",\n    \"aria-label\": \"close\",\n    onClick: _cache[6] || (_cache[6] = function () {\n      return $options.closeUserModal && $options.closeUserModal.apply($options, arguments);\n    })\n  })]), _createElementVNode(\"section\", _hoisted_26, [_createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.currentUserList, function (user) {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: user.id,\n      style: {\n        \"color\": \"white\"\n      }\n    }, [_createTextVNode(\" ID: \" + _toDisplayString(user.user_detail.id) + \" | Email: \" + _toDisplayString(user.user_detail.email) + \" \", 1 /* TEXT */), _createElementVNode(\"button\", {\n      onClick: function onClick($event) {\n        return $options.removeUserFromBoard($data.currentBoardId, user);\n      },\n      \"class\": \"button is-danger is-small\"\n    }, \"Remove\", 8 /* PROPS */, _hoisted_27)]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"footer\", _hoisted_28, [_createElementVNode(\"button\", {\n    \"class\": \"button is-success\",\n    onClick: _cache[7] || (_cache[7] = function () {\n      return $options.openAddUserModal && $options.openAddUserModal.apply($options, arguments);\n    })\n  }, \"Add User\"), _createElementVNode(\"button\", {\n    \"class\": \"button\",\n    onClick: _cache[8] || (_cache[8] = function () {\n      return $options.closeUserModal && $options.closeUserModal.apply($options, arguments);\n    })\n  }, \"Cancel\")])])], 2 /* CLASS */), _createCommentVNode(\" Modal for adding a new user \"), _createElementVNode(\"div\", {\n    \"class\": _normalizeClass([\"modal\", {\n      'is-active': $data.addUserModalActive\n    }])\n  }, [_createElementVNode(\"div\", {\n    \"class\": \"modal-background\",\n    onClick: _cache[9] || (_cache[9] = function () {\n      return $options.closeAddUserModal && $options.closeAddUserModal.apply($options, arguments);\n    })\n  }), _createElementVNode(\"div\", _hoisted_29, [_createElementVNode(\"div\", _hoisted_30, [_hoisted_31, _createElementVNode(\"div\", _hoisted_32, [_hoisted_33, _createElementVNode(\"div\", _hoisted_34, [_withDirectives(_createElementVNode(\"input\", {\n    \"class\": \"input\",\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[10] || (_cache[10] = function ($event) {\n      return $data.newUserId = $event;\n    })\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newUserId]])])]), _createElementVNode(\"div\", _hoisted_35, [_createElementVNode(\"button\", {\n    \"class\": \"button is-success\",\n    onClick: _cache[11] || (_cache[11] = function () {\n      return $options.addUserToBoard && $options.addUserToBoard.apply($options, arguments);\n    })\n  }, \"Add User\"), _createElementVNode(\"button\", {\n    \"class\": \"button\",\n    onClick: _cache[12] || (_cache[12] = function () {\n      return $options.closeAddUserModal && $options.closeAddUserModal.apply($options, arguments);\n    })\n  }, \"Cancel\")])])])], 2 /* CLASS */)]);\n}","map":{"version":3,"names":["_createElementVNode","key","style","type","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","$options","boardTotalLength","_hoisted_5","_hoisted_6","_Fragment","_renderList","$data","boards","board","id","_toDisplayString","name","description","create_date","due_date","onClick","$event","deleteBoard","_hoisted_7","openEditBoardModal","_hoisted_8","openBoard","_hoisted_9","openUserModal","_hoisted_11","_createTextVNode","getBoardUserCount","_hoisted_10","_hoisted_12","_createCommentVNode","editBoardModalVisible","_hoisted_13","_hoisted_14","_cache","closeEditBoardModal","apply","arguments","_hoisted_15","onSubmit","_withModifiers","updateBoard","_hoisted_16","_hoisted_17","editedBoardName","_hoisted_18","_hoisted_19","editedBoardDescription","_hoisted_20","_hoisted_21","editedBoardDueDate","_hoisted_22","_normalizeClass","userModalActive","closeUserModal","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","currentUserList","user","user_detail","email","removeUserFromBoard","currentBoardId","_hoisted_27","_hoisted_28","openAddUserModal","addUserModalActive","closeAddUserModal","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","newUserId","_hoisted_35","addUserToBoard"],"sources":["C:\\Users\\kamil\\Desktop\\UczenieMaszynowe\\ScrumTable-visi-DziarskiQuartet\\frontend\\src\\views\\Tables.vue"],"sourcesContent":["<template>\r\n  <div class=\"page-board\">\r\n    <div class=\"columns is-multiline\">\r\n      <div class=\"column is-12\">\r\n        <h1 class=\"title\">Boards</h1>\r\n      </div>\r\n\r\n      <div class=\"column is-12 box\">\r\n        <table class=\"table is-fullwidth\" v-if=\"boardTotalLength\">\r\n          <thead>\r\n            <tr>\r\n              <th>Name</th>\r\n              <th>Description</th>\r\n              <th>Create Date</th>\r\n              <th>Due Date</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"board in boards\" :key=\"board.id\">\r\n              <td>{{ board.name }}</td>\r\n              <td>{{ board.description }}</td>\r\n              <td>{{ board.create_date }}</td>\r\n              <td>{{ board.due_date }}</td>\r\n              <td>\r\n                <button @click=\"deleteBoard(board.id)\" class=\"button is-danger is-margin-right\">Delete</button>\r\n                <button @click=\"openEditBoardModal(board)\" class=\"button is-info is-margin-right\">Edit</button>\r\n                <button @click=\"openBoard(board.id)\" class=\"button is-primary is-margin-right\">Open</button>\r\n                <span @click=\"openUserModal(board.id)\" style=\"cursor: pointer;\">\r\n                  <i class=\"fas fa-users\"></i> {{ getBoardUserCount(board.id) }}\r\n                </span>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <p v-else>You don't have any boards...</p>\r\n      </div>\r\n    </div>\r\n    <!-- Modal do edycji tablicy -->\r\n  <div v-if=\"editBoardModalVisible\" class=\"modal-user\">\r\n    <div class=\"modal-content-edit\">\r\n      <span class=\"close-edits\" @click=\"closeEditBoardModal\">&times;</span>\r\n      <h2 style=\"margin-bottom: 15px; font-weight: bold; font-size: 30px;\">Edit Board</h2>\r\n      <form @submit.prevent=\"updateBoard\">\r\n        <div class=\"form-group\" style=\"margin-bottom: 15px; font-weight: bold; font-size: 15px;\">\r\n          <label for=\"editBoardName\" style=\"margin-right: 15px;\" >Board Name:</label>\r\n          <input type=\"text\" id=\"editBoardName\" v-model=\"editedBoardName\" class=\"form-control\">\r\n        </div>\r\n        <div class=\"form-group\" style=\"margin-bottom: 15px; font-weight: bold; font-size: 15px;\">\r\n          <label for=\"editBoardDescription\" style=\"margin-right: 15px;\">Description:</label>\r\n          <textarea type=\"description\" id=\"editBoardDescription\" v-model=\"editedBoardDescription\" class=\"form-control textarea-description\"></textarea>\r\n        </div>\r\n        <div class=\"form-group\" style=\"margin-bottom: 15px; font-weight: bold; font-size: 15px;\">\r\n          <label for=\"editBoardDueDate\" style=\"margin-right: 15px;\">Due Date:</label>\r\n          <input type=\"date\" id=\"editBoardDueDate\" v-model=\"editedBoardDueDate\" class=\"form-control\">\r\n        </div>\r\n\r\n        <button type=\"submit\" class=\"button is-primary\">Update Board</button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n     <!-- Modal for User List -->\r\n<div class=\"modal\" :class=\"{ 'is-active': userModalActive }\">\r\n  <div class=\"modal-background\" @click=\"closeUserModal\"></div>\r\n  <div class=\"modal-card\">\r\n    <header class=\"modal-card-head\">\r\n      <p class=\"modal-card-title\">User List</p>\r\n      <button class=\"delete\" aria-label=\"close\" @click=\"closeUserModal\"></button>\r\n    </header>\r\n    <section class=\"modal-card-body\">\r\n      <ul>\r\n  <li v-for=\"user in currentUserList\" :key=\"user.id\" style=\"color: white;\">\r\n\r\n    ID: {{ user.user_detail.id }} | Email: {{ user.user_detail.email }}\r\n    <button @click=\"removeUserFromBoard(currentBoardId, user)\" class=\"button is-danger is-small\">Remove</button>\r\n  </li>\r\n</ul>\r\n\r\n    </section>\r\n    <footer class=\"modal-card-foot\">\r\n      <button class=\"button is-success\" @click=\"openAddUserModal\">Add User</button>\r\n      <button class=\"button\" @click=\"closeUserModal\">Cancel</button>\r\n    </footer>\r\n  </div>\r\n</div>\r\n  <!-- Modal for adding a new user -->\r\n  <div class=\"modal\" :class=\"{ 'is-active': addUserModalActive }\">\r\n    <div class=\"modal-background\" @click=\"closeAddUserModal\"></div>\r\n    <div class=\"modal-content\">\r\n      <div class=\"box\">\r\n        <h2 class=\"subtitle\">Add User to Board</h2>\r\n        <div class=\"field\">\r\n          <label class=\"label\">User ID</label>\r\n          <div class=\"control\">\r\n            <input class=\"input\" type=\"text\" v-model=\"newUserId\">\r\n          </div>\r\n        </div>\r\n        <div class=\"field\">\r\n          <button class=\"button is-success\" @click=\"addUserToBoard\">Add User</button>\r\n          <button class=\"button\" @click=\"closeAddUserModal\">Cancel</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      editedBoardName: '',\r\n      editedBoardId: null,\r\n      editBoardModalVisible: false,\r\n      editedBoardDescription: '',\r\n      editedBoardDueDate: '',\r\n      boards: [],\r\n      boardUserCounts: {},\r\n      userModalActive: false,\r\n      currentUserList: [],\r\n      currentBoardId: null,\r\n      userId: null,\r\n      newUserId: '',\r\n      addUserModalActive: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.fetchBoards();\r\n  },\r\n  methods: {\r\n    async fetchBoards() {\r\n      try {\r\n        const response = await axios.get('http://127.0.0.1:8000/board/list_board/');\r\n        this.boards = response.data;\r\n\r\n        // Po pobraniu listy tablic, dla każdej tablicy pobierz liczbę użytkowników\r\n        for (const board of this.boards) {\r\n          await this.fetchBoardUsers(board.id);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching boards:', error);\r\n      }\r\n    },\r\n\r\n    async deleteBoard(boardId) {\r\n      try {\r\n        const confirmed = window.confirm('Are you sure you want to delete this board?');\r\n        if (confirmed) {\r\n          await axios.delete(`http://127.0.0.1:8000/board/${boardId}/delete_board/`);\r\n          this.fetchBoards();\r\n        }\r\n      } catch (error) {\r\n        console.error('Error deleting board:', error);\r\n      } \r\n    },\r\n\r\n    async updateBoard() {\r\n      try {\r\n        await axios.put(`http://127.0.0.1:8000/board/${this.editedBoardId}/edit_board/`, \r\n          { name: this.editedBoardName, description: this.editedBoardDescription, due_date: this.editedBoardDueDate }\r\n        );\r\n        console.log('Board updated successfully');\r\n        this.closeEditBoardModal();\r\n        this.fetchBoards();\r\n      } catch (error) {\r\n        console.error('Error updating board:', error);\r\n      }\r\n    },\r\n\r\n    openBoard(boardId) {\r\n      this.$router.push(`/section-table/${boardId}/create_section`);\r\n    },\r\n\r\n    openEditBoardModal(board) {\r\n      this.editBoardModalVisible = true;\r\n      this.editedBoardId = board.id;\r\n      this.editedBoardName = board.name;\r\n      this.editedBoardDescription = board.description;\r\n    },\r\n\r\n    closeEditBoardModal() {\r\n      this.editBoardModalVisible = false;\r\n    },\r\n    // zliczanie ilosci ziutków przypisanych do tablicy\r\n    async fetchBoardUsers(boardId) {\r\n      try {\r\n        const response = await axios.get(`http://127.0.0.1:8000/board/${boardId}/users/`);\r\n        this.boardUserCounts[boardId] = response.data.length;\r\n      } catch (error) {\r\n        console.error('Error fetching board users:', error);\r\n      }\r\n    },\r\n\r\n    getBoardUserCount(boardId) {\r\n      return this.boardUserCounts[boardId] || 0;\r\n    },\r\n\r\n    openUserModal(boardId) {\r\n  this.userModalActive = true;\r\n  this.currentBoardId = boardId;\r\n  this.fetchBoardUsersList(boardId); // Dodaj to wywołanie, aby pobrać użytkowników tablicy\r\n},\r\n  closeUserModal() {\r\n      this.userModalActive = false;\r\n      this.currentBoardId = null;\r\n      this.currentUserList = [];\r\n    },\r\n  // wyswietlenie ziutków tablicy nie działa\r\n  async fetchBoardUsersList(boardId) {\r\n  try {\r\n    const response = await axios.get(`http://127.0.0.1:8000/board/${boardId}/users/`);\r\n    this.currentUserList = response.data.map(user => ({\r\n      id: user.user_id, // Ustawiamy user_id jako id\r\n      email: user.user_detail.email\r\n    }));\r\n    console.log('Current User List:', this.currentUserList); // Dodaj to logowanie\r\n    // Przypisz pierwszego użytkownika z listy jako aktualnie wybranego użytkownika\r\n    if (response.data.length > 0) {\r\n      this.userId = response.data[0].user_id;\r\n    }\r\n  } catch (error) {\r\n    console.error('Error fetching board users:', error);\r\n  }\r\n},\r\n\r\n\r\n\r\n    \r\n    openAddUserModal() {\r\n      this.addUserModalActive = true;\r\n    },\r\n\r\n    closeAddUserModal() {\r\n      this.addUserModalActive = false;\r\n      this.newUserId = ''; // Wyczyszczenie pola po zamknięciu modala\r\n    },\r\n\r\n    async addUserToBoard() {\r\n      try {\r\n        const boardId = this.currentBoardId;\r\n        const userId = this.newUserId;\r\n\r\n        // Wykonanie zapytania HTTP do dodania użytkownika do tablicy\r\n        await axios.post(`http://127.0.0.1:8000/board/${boardId}/add_user/`, { user: userId });\r\n\r\n        // Pobranie zaktualizowanej listy użytkowników po dodaniu nowego\r\n        await this.fetchBoardUsersList(boardId);\r\n\r\n        this.fetchBoards();\r\n        // Zamknięcie modala po dodaniu użytkownika\r\n        this.closeAddUserModal();\r\n      } catch (error) {\r\n        console.error('Error adding user to board:', error);\r\n      }\r\n    },\r\n    async deleteUserFromBoard(boardId, user) {\r\n  try {\r\n    console.log(\"User:\", user); // Dodajmy to logowanie\r\n    const userId = user.user_id; // Pobierz user_id z obiektu user\r\n    // Wykonanie zapytania HTTP do usunięcia użytkownika z tablicy\r\n    await axios.delete(`http://127.0.0.1:8000/board/${boardId}/delete_user/?user_id=${userId}`);\r\n\r\n    // Pobranie zaktualizowanej listy użytkowników po usunięciu\r\n    await this.fetchBoardUsersList(boardId);\r\n  } catch (error) {\r\n    console.error('Error deleting user from board:', error);\r\n  }\r\n},\r\n\r\nasync removeUserFromBoard(boardId, user) {\r\n  console.log(\"User:\", user); // Sprawdźmy, co jest w obiekcie user\r\n  const confirmed = window.confirm('Are you sure you want to remove this user from the board?');\r\n  if (confirmed) {\r\n    await this.deleteUserFromBoard(boardId, user);\r\n  }\r\n},\r\n\r\n\r\n\r\n\r\n\r\n\r\n  },\r\n\r\n  computed: {\r\n    boardTotalLength() {\r\n      return this.boards.length;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n/* Edit */\r\n.modal-edit {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: fixed;\r\n  z-index: 1000;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  overflow: auto;\r\n}\r\n\r\n.modal-content-edit {\r\n  margin: auto;\r\n  padding: 20px;\r\n  width: 50%; /* zmieniamy szerokość modalu edycji */\r\n  max-height: 80%; /* maksymalna wysokość modalu */\r\n  overflow-y: auto; /* dodajemy pionowy scroll w przypadku długich treści */\r\n  background-color: #d4d4d6; /* Zaktualizowany kolor tła */\r\n  border-radius: 5px;\r\n  border: 5px solid #007bff; /* Zaktualizowany kolor ramki */\r\n  text-align: center;\r\n  color: #000;\r\n  opacity: 0.9;\r\n}\r\n\r\n.close-edit {\r\n  color: #aaaaaa;\r\n  float: right;\r\n  font-size: 28px;\r\n  font-weight: bold;\r\n}\r\n\r\n.close-edit:hover,\r\n.close-edit:focus {\r\n  color: #000;\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n}\r\n/* User */\r\n.modal {\r\n  display: none;\r\n  position: fixed;\r\n  z-index: 1000;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  overflow: auto;\r\n  \r\n}\r\n.modal-card-body {\r\n  color: white;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}