{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-da5ce89e\"), n = n(), _popScopeId(), n;\n};\nvar _hoisted_1 = {\n  \"class\": \"page-edit-section\"\n};\nvar _hoisted_2 = {\n  \"class\": \"columns\"\n};\nvar _hoisted_3 = {\n  \"class\": \"column is-4 is-offset-4\"\n};\nvar _hoisted_4 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"h1\", {\n    \"class\": \"title\"\n  }, \"Edytuj Sekcję\", -1 /* HOISTED */);\n});\nvar _hoisted_5 = {\n  \"class\": \"field\"\n};\nvar _hoisted_6 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"label\", {\n    \"for\": \"editedSectionName\"\n  }, \"Nazwa Sekcji:\", -1 /* HOISTED */);\n});\nvar _hoisted_7 = {\n  \"class\": \"control\"\n};\nvar _hoisted_8 = {\n  \"class\": \"field\"\n};\nvar _hoisted_9 = {\n  \"class\": \"control\"\n};\nvar _hoisted_10 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"button\", {\n    \"class\": \"button is-dark submit-button\",\n    type: \"submit\"\n  }, \"Zapisz Zmiany\", -1 /* HOISTED */);\n});\nvar _hoisted_11 = {\n  key: 0,\n  \"class\": \"notification-container\"\n};\nvar _hoisted_12 = {\n  \"class\": \"notification is-success\"\n};\nvar _hoisted_13 = {\n  \"class\": \"notification-content\"\n};\nvar _hoisted_14 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"p\", {\n    \"class\": \"notification-message\"\n  }, [/*#__PURE__*/_createTextVNode(\" Edycja udana! \"), /*#__PURE__*/_createElementVNode(\"br\"), /*#__PURE__*/_createTextVNode(\" Czy chcesz wrócić do widoku tabeli? \"), /*#__PURE__*/_createElementVNode(\"br\")], -1 /* HOISTED */);\n});\nvar _hoisted_15 = {\n  \"class\": \"notification-buttons\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers(function () {\n      return $options.updateSection && $options.updateSection.apply($options, arguments);\n    }, [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _createElementVNode(\"div\", _hoisted_7, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"editedSectionName\",\n    \"class\": \"input\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return $data.editedSectionName = $event;\n    }),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.editedSectionName]])])]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _createElementVNode(\"button\", {\n    \"class\": \"button is-dark dark-button\",\n    onClick: _cache[1] || (_cache[1] = function () {\n      return $options.goBack && $options.goBack.apply($options, arguments);\n    })\n  }, \"Powrót\")])])], 32 /* NEED_HYDRATION */)])]), $data.showNotification ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"button\", {\n    \"class\": \"delete\",\n    onClick: _cache[3] || (_cache[3] = function () {\n      return $options.hideNotification && $options.hideNotification.apply($options, arguments);\n    })\n  }), _createElementVNode(\"div\", _hoisted_13, [_hoisted_14, _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"button\", {\n    \"class\": \"button is-success is-large\",\n    onClick: _cache[4] || (_cache[4] = function () {\n      return $options.goToTable && $options.goToTable.apply($options, arguments);\n    }),\n    style: {\n      \"background-color\": \"lightgreen\"\n    }\n  }, \"Tak\"), _createElementVNode(\"button\", {\n    \"class\": \"button is-danger is-large\",\n    onClick: _cache[5] || (_cache[5] = function () {\n      return $options.hideNotification && $options.hideNotification.apply($options, arguments);\n    })\n  }, \"Nie\")])])])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["_createElementVNode","type","key","_createTextVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","onSubmit","_cache","_withModifiers","$options","updateSection","apply","arguments","_hoisted_5","_hoisted_6","_hoisted_7","id","$event","$data","editedSectionName","required","_hoisted_8","_hoisted_9","_hoisted_10","onClick","goBack","showNotification","_hoisted_11","_hoisted_12","hideNotification","_hoisted_13","_hoisted_14","_hoisted_15","goToTable","style","_createCommentVNode"],"sources":["C:\\Users\\kamil\\Desktop\\UczenieMaszynowe\\ScrumTable-visi-DziarskiQuartet\\frontend\\src\\views\\EditSection.vue"],"sourcesContent":["<template>\r\n    <div class=\"page-edit-section\">\r\n      <div class=\"columns\">\r\n        <div class=\"column is-4 is-offset-4\">\r\n          <h1 class=\"title\">Edytuj Sekcję</h1>\r\n  \r\n          <form @submit.prevent=\"updateSection\">\r\n            <div class=\"field\">\r\n              <label for=\"editedSectionName\">Nazwa Sekcji:</label>\r\n              <div class=\"control\">\r\n                <input type=\"text\" id=\"editedSectionName\" class=\"input\" v-model=\"editedSectionName\" required>          \r\n              </div>\r\n            </div>\r\n  \r\n            <div class=\"field\">\r\n              <div class=\"control\">\r\n                <button class=\"button is-dark submit-button\" type=\"submit\" >Zapisz Zmiany</button>\r\n                <button class=\"button is-dark dark-button\" @click=\"goBack\">Powrót</button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      <div v-if=\"showNotification\" class=\"notification-container\">\r\n          <div class=\"notification is-success\">\r\n            <button class=\"delete\" @click=\"hideNotification\"></button>\r\n            <div class=\"notification-content\">\r\n              <p class=\"notification-message\">\r\n                Edycja udana!\r\n                <br>\r\n                Czy chcesz wrócić do widoku tabeli?\r\n                <br>\r\n              </p>\r\n              <div class=\"notification-buttons\">\r\n                <button class=\"button is-success is-large\" @click=\"goToTable\" style=\"background-color: lightgreen;\">Tak</button>\r\n                <button class=\"button is-danger is-large\" @click=\"hideNotification\">Nie</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n    </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  \r\n  export default {\r\n    data() {\r\n      return {\r\n      editedSectionName: '',\r\n      sectionId: null,\r\n      boardId: null,\r\n      boardName: '',\r\n      showNotification: false\r\n      };\r\n    },\r\n\r\n    mounted(){\r\n        console.log(\"Params:\", this.$route.params);\r\n        this.sectionId = this.$route.params.section_id;\r\n        this.boardId = this.$route.params.board_id;\r\n        \r\n    },\r\n\r\n    methods: {\r\n        goBack() {\r\n          // Przekierowanie użytkownika na poprzednią stronę\r\n          this.$router.go(-1);\r\n        },\r\n\r\n        async updateSection() {\r\n          try {\r\n            const token = localStorage.getItem('token');\r\n            \r\n            const response0 = await axios.get(`http://127.0.0.1:8000/board/${this.boardId}/`);\r\n            this.boardName = response0.data.name;\r\n\r\n            const response1 = await axios.get(`http://127.0.0.1:8000/board/${this.$route.params.board_id}/`);\r\n            this.board_id = response1.data.id;\r\n\r\n            const response2 = await axios.put(\r\n              `http://127.0.0.1:8000/section/${this.board_id}/update_section/${this.sectionId}/`,\r\n              { name: this.editedSectionName, board: null},\r\n              { headers: { Authorization: `Token ${token}` } }\r\n            );\r\n\r\n            console.log('Section updated:', response2.data);\r\n            //this.$router.go(-1); // Przekierowanie użytkownika po zapisaniu zmian\r\n            this.showNotification=true;\r\n          } catch (error) {\r\n            console.error('Error updating section:', error);\r\n            console.log(\"Board id: \",this.board_id, this.sectionId, this.boardName);\r\n          }\r\n        },\r\n\r\n        hideNotification() {\r\n        this.showNotification = false;\r\n        },\r\n\r\n        goToTable() {\r\n        this.$router.go(-1); // Przekieruj do /user-main\r\n        setTimeout(() => {\r\n          window.location.reload(); // Odśwież /user-main\r\n        }, 2);\r\n      }\r\n    }\r\n  }\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .page-edit-section {\r\n    margin-top: 50px; \r\n  }\r\n  \r\n  .title {\r\n    text-align: center; \r\n  }\r\n  \r\n  .submit-button {\r\n   background-color: #95da8f;\r\n   color:black;\r\n  }\r\n\r\n  .submit-button:hover {\r\n   background-color: #669762;\r\n  }\r\n\r\n  .dark-button {\r\n    background-color: #f55656 !important;\r\n    margin-left: 320px;\r\n    padding-left: 35px;\r\n    padding-right: 35px;\r\n  }\r\n  \r\n  .dark-button:hover {\r\n    background-color: #923232 !important;\r\n  }\r\n\r\n  .notification-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100%;\r\n}\r\n\r\n.notification {\r\n  max-width: 400px;\r\n  padding: 20px;\r\n}\r\n\r\n.notification-content {\r\n  text-align: center;\r\n}\r\n\r\n.notification-message {\r\n  margin-bottom: 20px;\r\n  font-size: 20px;\r\n}\r\n\r\n.notification-buttons {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.notification-buttons .button {\r\n  margin: 0 10px;\r\n}\r\n  </style>\r\n  "],"mappings":";;;;;EACS,SAAM;AAAmB;;EACvB,SAAM;AAAS;;EACb,SAAM;AAAyB;;sBAClCA,mBAAA,CAAoC;IAAhC,SAAM;EAAO,GAAC,eAAa;AAAA;;EAGxB,SAAM;AAAO;;sBAChBA,mBAAA,CAAoD;IAA7C,OAAI;EAAmB,GAAC,eAAa;AAAA;;EACvC,SAAM;AAAS;;EAKjB,SAAM;AAAO;;EACX,SAAM;AAAS;;sBAClBA,mBAAA,CAAkF;IAA1E,SAAM,8BAA8B;IAACC,IAAI,EAAC;KAAU,eAAa;AAAA;;EAhBzFC,GAAA;EAuBmC,SAAM;;;EAC1B,SAAM;AAAyB;;EAE7B,SAAM;AAAsB;;sBAC/BF,mBAAA,CAKI;IALD,SAAM;EAAsB,I,aA3B7CG,gBAAA,CA2B8C,iBAE9B,G,aAAAH,mBAAA,CAAI,O,aA7BpBG,gBAAA,CA6BoB,uCAEJ,G,aAAAH,mBAAA,CAAI,M;;;EAED,SAAM;AAAsB;;uBAhC3CI,mBAAA,CAuCM,OAvCNC,UAuCM,GAtCJL,mBAAA,CAoBM,OApBNM,UAoBM,GAnBJN,mBAAA,CAkBM,OAlBNO,UAkBM,GAjBJC,UAAoC,EAEpCR,mBAAA,CAcO;IAdAS,QAAM,EAAAC,MAAA,QAAAA,MAAA,MANvBC,cAAA;MAAA,OAMiCC,QAAA,CAAAC,aAAA,IAAAD,QAAA,CAAAC,aAAA,CAAAC,KAAA,CAAAF,QAAA,EAAAG,SAAA,CAAa;IAAA;MAClCf,mBAAA,CAKM,OALNgB,UAKM,GAJJC,UAAoD,EACpDjB,mBAAA,CAEM,OAFNkB,UAEM,G,gBADJlB,mBAAA,CAA6F;IAAtFC,IAAI,EAAC,MAAM;IAACkB,EAAE,EAAC,mBAAmB;IAAC,SAAM,OAAO;IAVvE,uBAAAT,MAAA,QAAAA,MAAA,gBAAAU,MAAA;MAAA,OAUiFC,KAAA,CAAAC,iBAAiB,GAAAF,MAAA;IAAA;IAAEG,QAAQ,EAAR;iDAAnBF,KAAA,CAAAC,iBAAiB,E,OAItFtB,mBAAA,CAKM,OALNwB,UAKM,GAJJxB,mBAAA,CAGM,OAHNyB,UAGM,GAFJC,WAAkF,EAClF1B,mBAAA,CAA0E;IAAlE,SAAM,4BAA4B;IAAE2B,OAAK,EAAAjB,MAAA,QAAAA,MAAA;MAAA,OAAEE,QAAA,CAAAgB,MAAA,IAAAhB,QAAA,CAAAgB,MAAA,CAAAd,KAAA,CAAAF,QAAA,EAAAG,SAAA,CAAM;IAAA;KAAE,QAAM,E,oCAMhEM,KAAA,CAAAQ,gBAAgB,I,cAA3BzB,mBAAA,CAgBI,OAhBJ0B,WAgBI,GAfA9B,mBAAA,CAcM,OAdN+B,WAcM,GAbJ/B,mBAAA,CAA0D;IAAlD,SAAM,QAAQ;IAAE2B,OAAK,EAAAjB,MAAA,QAAAA,MAAA;MAAA,OAAEE,QAAA,CAAAoB,gBAAA,IAAApB,QAAA,CAAAoB,gBAAA,CAAAlB,KAAA,CAAAF,QAAA,EAAAG,SAAA,CAAgB;IAAA;MAC/Cf,mBAAA,CAWM,OAXNiC,WAWM,GAVJC,WAKI,EACJlC,mBAAA,CAGM,OAHNmC,WAGM,GAFJnC,mBAAA,CAAgH;IAAxG,SAAM,4BAA4B;IAAE2B,OAAK,EAAAjB,MAAA,QAAAA,MAAA;MAAA,OAAEE,QAAA,CAAAwB,SAAA,IAAAxB,QAAA,CAAAwB,SAAA,CAAAtB,KAAA,CAAAF,QAAA,EAAAG,SAAA,CAAS;IAAA;IAAEsB,KAAqC,EAArC;MAAA;IAAA;KAAsC,KAAG,GACvGrC,mBAAA,CAAgF;IAAxE,SAAM,2BAA2B;IAAE2B,OAAK,EAAAjB,MAAA,QAAAA,MAAA;MAAA,OAAEE,QAAA,CAAAoB,gBAAA,IAAApB,QAAA,CAAAoB,gBAAA,CAAAlB,KAAA,CAAAF,QAAA,EAAAG,SAAA,CAAgB;IAAA;KAAE,KAAG,E,WAnCvFuB,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}